
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SIS - Arduino - Цифровой сигнал</title>

    <!-- Bootstrap core CSS -->
    <link href="../bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../custom.css" rel="stylesheet">

        <link rel="stylesheet" href="../monokai_sublime.css">
    <script src="../highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <img src="http://10.0.0.2/mail/logo.png" height="50px;" class="navbar-logo"/>
            <div class="navbar-brand">Arduino club</div>
          </div>
        </div><!--/.container-fluid -->
      </nav>

    <ol class="breadcrumb">
      <li><a href="../index.html">Главная</a></li>
      <li class="active">Цифровой сигнал</li>
    </ol>

      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <div class="row">
<h2 class="sectionedit1">Сенсоры с цифровым сигналом</h2>
<div class="level1">

<p>

При использовании цифрового сигнала, сенсор в любой момент времени выдаёт на сигнальный провод либо 0 В, либо напряжение своего питания — 5 В. Промежуточных значений нет. Для того, чтобы абстрагироваться от конкретных значений напряжения, которые не важны при обработке цифровых сигналов, существуют понятия логического нуля (LOW) и логической единицы (HIGH). 0 В — это логический ноль, напряжение питания — это логическая единица.
</p>

<p>
На Arduino Uno имеется 14 цифровых входов, любой из которых может быть использован для подключения такого датчика.
</p>

</div>

<h2 class="sectionedit2">Протокол</h2>
<div class="level2">

<p>

Есть простые сенсоры у которых есть всего два состояния: чёрный/не-чёрный, лево/право и т.д. Их очень легко подключить и считать показания: сенсоры передают свой сигнал непрерывно, а значение на сигнальном проводе напрямую соответствует их показаниям. Такой простой протокол называется бинарным.
</p>

<p>
Существуют также сенсоры с цифровым сигналом, которые измеряют множество градаций определённой физической величины вроде расстояния или температуры. Но для передачи своих данных с использованием лишь двух значений, каждый такой сенсор определяет собстенный протокол. В нём описывается какие последовательности нулей и единиц, с какими задержками, как несут в себе передаваемые данные. Принимающая сторона, такая как Arduino, должна реализовать алгоритм, который будет считывать показания в соответствии с протоколом. Протокол у каждого сенсора свой, он описывается в его документации. Arduino — очень популярная платформа, поэтому чаще всего реализацию алгоритма расшифровки можно найти в виде готовой библиотеки, написанной энтузиастами или самим производителем сенсора.
</p>

</div>

<h2 class="sectionedit3">Программирование</h2>
<div class="level2">

<p>

Если говорить о цифровых сенсорах с бинарным протоколом, считать данные с него — крайне просто.
</p>

<p>
Поскольку цифровые контакты могут являться как входами, так и выходами, для начала нужно сконфигурировать контакт, к которому подключен сенсор в режим ввода. Это нужно сделать единожды, поэтому функция <code>setup</code> — подходящее для этого место. Для конфигурирования режима используется стандартная функция <code>pinMode</code>. Так, например, если вы подключили сенсор к контакту 9, код конфигурации будет выглядеть так:
</p>
<br>
<pre><code class="c++">void setup()
{
    pinMode(9, INPUT);
}
</code>
</pre>

<p>
Затем, чтобы считать состояние в любой момент времени, существует стандартная функция <code>digitalRead</code>. Продолжая пример, чтобы получить состояние сенсора в переменную <code>value</code> достаточно исполнить:
</p>
<br>
<pre><code class="c++">int value = digitalRead(9);
</code></pre>

<p>
Входное напряжение до 2 В проецируется на целочисленное значение 0, что соответствует значению константы <code>LOW</code>; напряжение более 3 В проецируется на целочисленное значение 1, что соответствует значению константы <code>HIGH</code>. Напряжение от 2 до 3 В спроецируется на 0 или 1 случайным образом, но это не является проблемой, так как цифровые сенсоры не должны выдавать такой сигнал.
</p>

<p>
Таким образом, программа, которая раз в секунду считывает показания цифрового сенсора с двумя состояниями, подключенного к контакту 9, и посылает их на компьютер может выглядеть так:
</p>
<br>
<pre><code class="c++">#define SENSOR_PIN 9
 
void setup()
{
    pinMode(SENSOR_PIN, INPUT);
    Serial.begin(9600);    
}
 
void loop()
{
    delay(1000);
    int val = digitalRead(SENSOR_PIN);
    Serial.println(val);
}
</code></pre>

</div>

<h2 class="sectionedit4">Преимущества и недостатки цифрового сигнала</h2>
<div class="level2">

<p>

Преимуществом сенсоров с цифровым сигналом и всего двумя состояниями является крайняя простота их использования с Arduino.
</p>

<p>
Однако, если речь идёт о цифровом сенсоре с множеством градаций измеряемой величины, их использование с Arduino не так тривиально, как бинарных или аналоговых: необходимо реализовать расшифровку данных, что требует определённых усилий, а также занимает память микроконтроллера.
</p>

<p>
Поскольку возможных значений в цифровом сигнале всего 2, а возможные отклонения в напряжении «округляются» микроконтроллером в ближайшую сторону, такие сенсоры можно подключать с помощью достаточно длинных (много метров) проводов, не опасаясь искажения сигнала из-за влияния на провод внешних электромагнитных полей.

</p>

</div>
        </div>
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../jquery.min.js"></script>
    <script src="../bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->
  </body>
</html>
